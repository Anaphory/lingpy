

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Workflows &mdash; LingPy</title>
    
    <link rel="stylesheet" href="../_static/lingpy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="top" title="LingPy" href="../index.html" /> 
  </head>
  <body>
<div style="color: black;background-color: white; font-size: 3.2em; text-align: left; padding: 15px 10px 10px 15px">
LingPy
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
	<li><a href="../index.html">Home</a> |&nbsp;</li>
	<li><a href="../intro.html">Introduction</a> |&nbsp;</li>
	<li><a href="../examples.html">Examples</a> |&nbsp;</li>
	<li><a href="../docu/index.html">Documentation</a> |&nbsp;</li>
	<li><a href="index.html">Tutorial</a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> </li>

 
      </ul>
    </div>

<br/><p>This documentation is for version <b>2.0.dev</b>, which is
  not released yet.</p>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="workflows">
<h1>Workflows<a class="headerlink" href="#workflows" title="Permalink to this headline">¶</a></h1>
<p>This is an example workflow that illustrates what can be done with LingPy. It starts from a small
dataset of the Dogon languages and leads through all important stages of a typical automatic
analysis with LingPy.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Make sure to have the LingPy library installed properly, see the <em class="xref std std-ref">Installation Instructions</em>
for details. The dataset that will be used can be downloaded from the following link:</p>
<p><a class="reference external" href="http://www.lingpy.org/workflow.zip">http://www.lingpy.org/workflow.zip</a></p>
<p>In order to start the analysis, unzip the dataset and cd into the folder. Then load the LingPy
library:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lingpy</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Then load the dataset into a <tt class="xref py py-class docutils literal"><span class="pre">Worlist</span></tt> object by typing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wl</span> <span class="o">=</span> <span class="n">Wordlist</span><span class="p">(</span><span class="s">&#39;DOGON.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will load the wordlist, and you can check for some specific characteristics, such as the number
of languages (the &#8216;width&#8217; of the Wordlist), or the number of concepts (its &#8216;height&#8217;):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wl</span><span class="o">.</span><span class="n">width</span>
<span class="go">18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wl</span><span class="o">.</span><span class="n">height</span>
<span class="go">325</span>
</pre></div>
</div>
</div>
<div class="section" id="orthographic-parsing">
<h2>Orthographic Parsing<a class="headerlink" href="#orthographic-parsing" title="Permalink to this headline">¶</a></h2>
<p>Orthographic parsing is the first step of the analysis. For the analysis, IPA format in tokenized
form is needed. In order to get the IPA tokens from the raw data, we need an orthography profile.
This has already been prepared. It is stored in the file <a class="reference external" href="examples/Heath2013.prf">Heath2013.prf</a>. In order to parse the data,
type in the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wl</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">ortho_profile</span><span class="o">=</span><span class="s">&#39;Heath2013.prf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>As a result, LingPy will iterate over all words in the dataset and convert them to IPA, as specified
in the orthographic profile. We can now write the data to file so that we can use it in the next
step of the workflow:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wl</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="s">&#39;csv&#39;</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;DOGON_tokens&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This writes the data to the file <a class="reference external" href="examples/DOGON_tokens.csv">DOGON_tokens.csv</a></p>
</div>
<div class="section" id="automatic-cognate-detection">
<h2>Automatic Cognate Detection<a class="headerlink" href="#automatic-cognate-detection" title="Permalink to this headline">¶</a></h2>
<p>Automatic cognate detection in LingPy is basically carried out with help of the
<a class="reference internal" href="../docu/compare/index.html#lingpy.compare.lexstat.LexStat" title="lingpy.compare.lexstat.LexStat"><tt class="xref py py-class docutils literal"><span class="pre">LexStat</span></tt></a> class. As all classes that inherit from the :py:class`~lingpy.basic.wordlist.Wordlist` class, this class also takes a filename as parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">LexStat</span><span class="p">(</span><span class="s">&#39;harry_potter.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Once instantiated, a <a class="reference internal" href="../docu/compare/index.html#lingpy.compare.lexstat.LexStat" title="lingpy.compare.lexstat.LexStat"><tt class="xref py py-class docutils literal"><span class="pre">LexStat</span></tt></a> object offers all methods and
attributes that are also defined for a <a class="reference internal" href="../docu/basic/wordlist.html#lingpy.basic.wordlist.Wordlist" title="lingpy.basic.wordlist.Wordlist"><tt class="xref py py-class docutils literal"><span class="pre">Wordlist</span></tt></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">width</span>
<span class="go">18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">height</span>
<span class="go">325</span>
</pre></div>
</div>
<p>In order to carry out a cognate detection analysis using the LexStat method (see <tt class="docutils literal"><a class="reference external" href="http://lingulist.de/evobib/evobib.php?key=List2012b"><span class="pre">List2012b</span></a></tt>), we first have to
create a scoring dictionary from automatically identified sound correspondences. There are a lot of
different parameters for this analysis, but for now, the defaults should suffice, so we can call
this method by simply typing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">get_scorer</span><span class="p">()</span>
</pre></div>
</div>
<p>After some time that it takes to calculate all the data, we can go on with the real analysis for
cognate detection. However, since the analysis is time-consuming, it is useful to store the current
state before going on:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">pickle</span><span class="p">()</span>
</pre></div>
</div>
<p>Now, we can carry out the cognate detection. This is a cluster method, that clusters all sequences
which are similar to each other into the same cognate set. Which sequences are clustered depends on
a threshold that we have to pass as an argument. Here we chose 0.5 as a threshold. This is a rather
conservative score that avoids that we get too many false positives:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&#39;lexstat&#39;</span><span class="p">,</span><span class="n">threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Again, we output the data. But since the LexStat method produces a lot of alternative data that is
not necessarily needed for the following analyses, we reduce the output in the CSV-format by
setting the <strong>subset</strong> keyword to c{True} and pass the data we want as a list to the keyword <strong>col</strong>.
In order to have a nice format with all words corresponding to the same concept in the same block,
we specify the keyword <strong>formatter</strong> as &#8216;concepts&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="s">&#39;csv&#39;</span><span class="p">,</span><span class="n">subset</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;DOGON_lexstat&#39;</span><span class="p">,</span><span class="n">subset</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">formatter</span><span class="o">=</span><span class="s">&#39;concepts&#39;</span><span class="p">,</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;concepts&#39;</span><span class="p">,</span><span class="s">&#39;taxa&#39;</span><span class="p">,</span><span class="s">&#39;counterpart&#39;</span><span class="p">,</span><span class="s">&#39;tokens&#39;</span><span class="p">,</span><span class="s">&#39;lexstatid&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This produces the file <a class="reference external" href="examples/DOGON_lexstat.csv">DOGON_lexstat.csv</a> in our folder.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Workflows</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#orthographic-parsing">Orthographic Parsing</a></li>
<li><a class="reference internal" href="#automatic-cognate-detection">Automatic Cognate Detection</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
	<li><a href="../index.html">Home</a> |&nbsp;</li>
	<li><a href="../intro.html">Introduction</a> |&nbsp;</li>
	<li><a href="../examples.html">Examples</a> |&nbsp;</li>
	<li><a href="../docu/index.html">Documentation</a> |&nbsp;</li>
	<li><a href="index.html">Tutorial</a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> </li>

 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, QLC Research Group, Philipps-University Marburg.
      Last updated on Apr 10, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>